import{w as d}from"./index.JbVbP8D2.js";var c={local:{},session:{}};function T(o){return o==="local"?localStorage:sessionStorage}function j(o,_,x){var f,p,w,g,v,m;const l=(f=void 0)!=null?f:JSON,n=(p=void 0)!=null?p:"local",I=(w=void 0)!=null?w:!0,$=(v=(g=void 0)!=null?g:void 0)!=null?v:r=>console.error(`Error when writing value from persisted store "${o}" to ${n}`,r),b=(m=void 0)!=null?m:(r,e)=>console.error(`Error when parsing ${r?'"'+r+'"':"value"} from persisted store "${o}"`,e),S=typeof window<"u"&&typeof document<"u",a=S?T(n):null;function h(r,e){try{a==null||a.setItem(r,l.stringify(e))}catch(u){$(u)}}function L(){const r=a==null?void 0:a.getItem(o);if(r)try{return l.parse(r)}catch(e){b(r,e)}return _}if(!c[n][o]){const r=L(),e=d(r,s=>{if(S&&n=="local"&&I){const i=t=>{if(t.key===o){let E;try{E=t.newValue?l.parse(t.newValue):null}catch(y){b(t.newValue,y);return}s(E)}};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)}}),{subscribe:u,set:V}=e;c[n][o]={set(s){V(s),h(o,s)},update(s){return e.update(i=>{const t=s(i);return h(o,t),t})},subscribe:u}}return c[n][o]}const J=j("userInfo",d()),N=d([]);export{N as a,J as u};
