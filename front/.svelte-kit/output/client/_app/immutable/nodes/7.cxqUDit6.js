import{s as it,b as Ce,r as ut,d as ct,e as Qe}from"../chunks/scheduler.DumJczGM.js";import{S as ft,i as dt,e as f,s as g,c as d,b as P,g as O,d as v,f as h,h as i,j as re,k as s,l as K,m as ie,t as V,a as ue,n as Ae,o as We,p as at,q as ot,r as ce,u as De,v as ht}from"../chunks/index.BeRZsODA.js";import{e as we}from"../chunks/each.D6YF6ztN.js";import"../chunks/entry.Bf_ZW4Bx.js";import{u as Me}from"../chunks/store.CorSUvV1.js";import{f as te}from"../chunks/index.DuuarKUS.js";function Xe(o,e,l){const r=o.slice();return r[18]=e[l],r[20]=l,r}function $e(o,e,l){const r=o.slice();return r[21]=e[l],r[20]=l,r}function et(o){let e,l=o[21]+"",r,c;return{c(){e=f("option"),r=at(l),this.h()},l(t){e=d(t,"OPTION",{});var u=P(e);r=ot(u,l),u.forEach(h),this.h()},h(){e.selected=c=o[20]===o[7].currency,e.__value=o[21],K(e,e.__value)},m(t,u){re(t,e,u),s(e,r)},p(t,u){u&128&&c!==(c=t[20]===t[7].currency)&&(e.selected=c)},d(t){t&&h(e)}}}function tt(o){let e,l="Currency updated",r,c;return{c(){e=f("p"),e.textContent=l,this.h()},l(t){e=d(t,"P",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-xifwjm"&&(e.textContent=l),this.h()},h(){i(e,"class","pt-2 text-green-600")},m(t,u){re(t,e,u),c=!0},i(t){c||(t&&Ce(()=>{c&&(r||(r=ce(e,te,{duration:200},!0)),r.run(1))}),c=!0)},o(t){t&&(r||(r=ce(e,te,{duration:200},!1)),r.run(0)),c=!1},d(t){t&&h(e),t&&r&&r.end()}}}function rt(o){let e,l=o[18]+"",r,c;return{c(){e=f("option"),r=at(l),this.h()},l(t){e=d(t,"OPTION",{});var u=P(e);r=ot(u,l),u.forEach(h),this.h()},h(){e.selected=c=o[20]===o[7].language,e.__value=o[18],K(e,e.__value)},m(t,u){re(t,e,u),s(e,r)},p(t,u){u&128&&c!==(c=t[20]===t[7].language)&&(e.selected=c)},d(t){t&&h(e)}}}function lt(o){let e,l="Language updated",r,c;return{c(){e=f("p"),e.textContent=l,this.h()},l(t){e=d(t,"P",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1yrpmbd"&&(e.textContent=l),this.h()},h(){i(e,"class","pt-2 text-green-600")},m(t,u){re(t,e,u),c=!0},i(t){c||(t&&Ce(()=>{c&&(r||(r=ce(e,te,{duration:200},!0)),r.run(1))}),c=!0)},o(t){t&&(r||(r=ce(e,te,{duration:200},!1)),r.run(0)),c=!1},d(t){t&&h(e),t&&r&&r.end()}}}function st(o){let e,l="Passwords do not match";return{c(){e=f("p"),e.textContent=l,this.h()},l(r){e=d(r,"P",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-ect1su"&&(e.textContent=l),this.h()},h(){i(e,"class","mt-2 text-red-600")},m(r,c){re(r,e,c)},d(r){r&&h(e)}}}function nt(o){let e,l="Password updated",r,c;return{c(){e=f("p"),e.textContent=l,this.h()},l(t){e=d(t,"P",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1si4o3h"&&(e.textContent=l),this.h()},h(){i(e,"class","mt-2 text-green-600")},m(t,u){re(t,e,u),c=!0},i(t){c||(t&&Ce(()=>{c&&(r||(r=ce(e,te,{duration:200},!0)),r.run(1))}),c=!0)},o(t){t&&(r||(r=ce(e,te,{duration:200},!1)),r.run(0)),c=!1},d(t){t&&h(e),t&&r&&r.end()}}}function pt(o){let e,l,r="Settings",c,t,u,y,q="Preferences",Y,L,R,le="Currency:",se,S,A,fe,de,j,B,pe="Language:",k,E,T,ye,ke,F,Z,ze="Password",Pe,ne,he,N,Q,je="Your current password",Ee,D,Te,b,W,Be="New password",Ie,M,Oe,X,Ve="Repeat new password",Le,z,Se,_e,Ne,J,qe='<span class="relative z-10">Update</span>',He,$,Fe='<h3 class="text-2xl mb-3">Account:</h3> <button class="px-4 py-2 relative overflow-hidden border-2 border-red-600 bg-none text-red-600 transition-all before:absolute before:left-0 before:top-0 before:h-full before:w-0 before:duration-300 after:absolute after:right-0 after:top-0 after:h-full after:w-0 after:duration-300 hover:text-zinc-100 hover:before:w-2/4 hover:before:bg-red-600 hover:after:w-2/4 hover:after:bg-red-600 select-none uppercase font-bold"><span class="relative z-10">Delete account</span></button>',Ue,Re,Je,ae=we(o[8]),x=[];for(let n=0;n<ae.length;n+=1)x[n]=et($e(o,ae,n));let p=o[5]&&tt(),oe=we(o[9]),w=[];for(let n=0;n<oe.length;n+=1)w[n]=rt(Xe(o,oe,n));let _=o[6]&&lt(),I=!o[3]&&st(),m=o[4]&&nt();return{c(){e=f("section"),l=f("h1"),l.textContent=r,c=g(),t=f("article"),u=f("section"),y=f("h2"),y.textContent=q,Y=g(),L=f("div"),R=f("h3"),R.textContent=le,se=g(),S=f("form"),A=f("select");for(let n=0;n<x.length;n+=1)x[n].c();fe=g(),p&&p.c(),de=g(),j=f("div"),B=f("h3"),B.textContent=pe,k=g(),E=f("form"),T=f("select");for(let n=0;n<w.length;n+=1)w[n].c();ye=g(),_&&_.c(),ke=g(),F=f("section"),Z=f("h2"),Z.textContent=ze,Pe=g(),ne=f("div"),he=f("div"),N=f("form"),Q=f("label"),Q.textContent=je,Ee=g(),D=f("input"),Te=g(),b=f("div"),W=f("label"),W.textContent=Be,Ie=g(),M=f("input"),Oe=g(),X=f("label"),X.textContent=Ve,Le=g(),z=f("input"),Se=g(),I&&I.c(),_e=g(),m&&m.c(),Ne=g(),J=f("button"),J.innerHTML=qe,He=g(),$=f("section"),$.innerHTML=Fe,this.h()},l(n){e=d(n,"SECTION",{});var C=P(e);l=d(C,"H1",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-1xgmsmx"&&(l.textContent=r),c=v(C),t=d(C,"ARTICLE",{class:!0});var a=P(t);u=d(a,"SECTION",{class:!0});var H=P(u);y=d(H,"H2",{class:!0,"data-svelte-h":!0}),O(y)!=="svelte-5csabn"&&(y.textContent=q),Y=v(H),L=d(H,"DIV",{class:!0});var me=P(L);R=d(me,"H3",{class:!0,"data-svelte-h":!0}),O(R)!=="svelte-1w00puw"&&(R.textContent=le),se=v(me),S=d(me,"FORM",{class:!0});var be=P(S);A=d(be,"SELECT",{id:!0,class:!0});var Ge=P(A);for(let ee=0;ee<x.length;ee+=1)x[ee].l(Ge);Ge.forEach(h),fe=v(be),p&&p.l(be),be.forEach(h),me.forEach(h),de=v(H),j=d(H,"DIV",{class:!0});var ge=P(j);B=d(ge,"H3",{class:!0,"data-svelte-h":!0}),O(B)!=="svelte-1rlfsnz"&&(B.textContent=pe),k=v(ge),E=d(ge,"FORM",{class:!0});var ve=P(E);T=d(ve,"SELECT",{id:!0,class:!0});var Ke=P(T);for(let ee=0;ee<w.length;ee+=1)w[ee].l(Ke);Ke.forEach(h),ye=v(ve),_&&_.l(ve),ve.forEach(h),ge.forEach(h),H.forEach(h),ke=v(a),F=d(a,"SECTION",{class:!0});var xe=P(F);Z=d(xe,"H2",{class:!0,"data-svelte-h":!0}),O(Z)!=="svelte-achc4i"&&(Z.textContent=ze),Pe=v(xe),ne=d(xe,"DIV",{class:!0});var Ye=P(ne);he=d(Ye,"DIV",{});var Ze=P(he);N=d(Ze,"FORM",{class:!0});var G=P(N);Q=d(G,"LABEL",{for:!0,"data-svelte-h":!0}),O(Q)!=="svelte-t50rs9"&&(Q.textContent=je),Ee=v(G),D=d(G,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),Te=v(G),b=d(G,"DIV",{class:!0});var U=P(b);W=d(U,"LABEL",{for:!0,"data-svelte-h":!0}),O(W)!=="svelte-ylzshu"&&(W.textContent=Be),Ie=v(U),M=d(U,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),Oe=v(U),X=d(U,"LABEL",{for:!0,"data-svelte-h":!0}),O(X)!=="svelte-1dz8x3e"&&(X.textContent=Ve),Le=v(U),z=d(U,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),Se=v(U),I&&I.l(U),_e=v(U),m&&m.l(U),U.forEach(h),Ne=v(G),J=d(G,"BUTTON",{class:!0,"data-svelte-h":!0}),O(J)!=="svelte-bfpq6i"&&(J.innerHTML=qe),G.forEach(h),Ze.forEach(h),Ye.forEach(h),xe.forEach(h),He=v(a),$=d(a,"SECTION",{class:!0,"data-svelte-h":!0}),O($)!=="svelte-15le4ht"&&($.innerHTML=Fe),a.forEach(h),C.forEach(h),this.h()},h(){i(l,"class","font-bold text-3xl lg:text-5xl px-6 pr-32 py-8 border-r-3 border-zinc-600 w-fit"),i(y,"class","text-2xl"),i(R,"class",""),i(A,"id","currencies"),i(A,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),i(S,"class","max-w-xs mt-3"),i(L,"class","mb-6 mt-3"),i(B,"class",""),i(T,"id","currencies"),i(T,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),i(E,"class","max-w-xs mt-3"),i(j,"class",""),i(u,"class","border-main md:border-r-3 border-b-3 md:w-1/3 px-6 py-8"),i(Z,"class","text-2xl"),i(Q,"for","currentPassword"),i(D,"class","mb-3 mt-1 my-input"),i(D,"type","text"),i(D,"id","currentPassword"),i(D,"placeholder","current password"),i(W,"for","newPassword"),i(M,"class","mb-2 mt-1 my-input"),i(M,"type","password"),i(M,"id","newPassword"),i(M,"placeholder","new password"),i(X,"for","newPasswordRepeat"),i(z,"type","password"),i(z,"class","my-input mt-1 "),i(z,"id","newPasswordRepeat"),i(z,"placeholder","repeat new password"),i(b,"class","flex flex-col mb-6"),i(J,"class","my-button-2 w-fit mt-4"),i(N,"class","max-w-xs flex flex-col"),i(ne,"class","mt-3"),i(F,"class","md:border-main border-gray-600 md:border-r-3 border-b-3 md:w-1/3 px-4 py-8"),i($,"class","md:border-main md:border-b-3 md:w-1/3 px-4 py-8"),i(t,"class","flex max-md:flex-col")},m(n,C){re(n,e,C),s(e,l),s(e,c),s(e,t),s(t,u),s(u,y),s(u,Y),s(u,L),s(L,R),s(L,se),s(L,S),s(S,A);for(let a=0;a<x.length;a+=1)x[a]&&x[a].m(A,null);s(S,fe),p&&p.m(S,null),s(u,de),s(u,j),s(j,B),s(j,k),s(j,E),s(E,T);for(let a=0;a<w.length;a+=1)w[a]&&w[a].m(T,null);s(E,ye),_&&_.m(E,null),s(t,ke),s(t,F),s(F,Z),s(F,Pe),s(F,ne),s(ne,he),s(he,N),s(N,Q),s(N,Ee),s(N,D),K(D,o[2]),s(N,Te),s(N,b),s(b,W),s(b,Ie),s(b,M),K(M,o[0]),s(b,Oe),s(b,X),s(b,Le),s(b,z),K(z,o[1]),s(b,Se),I&&I.m(b,null),s(b,_e),m&&m.m(b,null),s(N,Ne),s(N,J),s(t,He),s(t,$),Re||(Je=[ie(A,"change",o[13]),ie(T,"change",o[14]),ie(D,"input",o[15]),ie(M,"input",o[16]),ie(z,"input",o[17]),ie(J,"click",o[12])],Re=!0)},p(n,[C]){if(C&384){ae=we(n[8]);let a;for(a=0;a<ae.length;a+=1){const H=$e(n,ae,a);x[a]?x[a].p(H,C):(x[a]=et(H),x[a].c(),x[a].m(A,null))}for(;a<x.length;a+=1)x[a].d(1);x.length=ae.length}if(n[5]?p?C&32&&V(p,1):(p=tt(),p.c(),V(p,1),p.m(S,null)):p&&(De(),ue(p,1,1,()=>{p=null}),Ae()),C&640){oe=we(n[9]);let a;for(a=0;a<oe.length;a+=1){const H=Xe(n,oe,a);w[a]?w[a].p(H,C):(w[a]=rt(H),w[a].c(),w[a].m(T,null))}for(;a<w.length;a+=1)w[a].d(1);w.length=oe.length}n[6]?_?C&64&&V(_,1):(_=lt(),_.c(),V(_,1),_.m(E,null)):_&&(De(),ue(_,1,1,()=>{_=null}),Ae()),C&4&&D.value!==n[2]&&K(D,n[2]),C&1&&M.value!==n[0]&&K(M,n[0]),C&2&&z.value!==n[1]&&K(z,n[1]),n[3]?I&&(I.d(1),I=null):I||(I=st(),I.c(),I.m(b,_e)),n[4]?m?C&16&&V(m,1):(m=nt(),m.c(),V(m,1),m.m(b,null)):m&&(De(),ue(m,1,1,()=>{m=null}),Ae())},i(n){V(p),V(_),V(m),n&&(Ue||Ce(()=>{Ue=ht(e,te,{delay:50,duration:300}),Ue.start()}))},o(n){ue(p),ue(_),ue(m)},d(n){n&&h(e),We(x,n),p&&p.d(),We(w,n),_&&_.d(),I&&I.d(),m&&m.d(),Re=!1,ut(Je)}}}function _t(o,e,l){let r;ct(o,Me,k=>l(7,r=k));let c=["CZK","EUR","USD","GBP"],t=["Čeština","English","Deutsch"],u,y,q,Y=!0,L,R,le=!1;async function se(k){const E=c.indexOf(k.target.value).toString(),T=await fetch("/api/updatePreference",{method:"PATCH",body:JSON.stringify({currency:E})});T.ok&&(console.log(await T.json()),Qe(Me,r.currency=E,r),l(5,R=!0),setTimeout(()=>{l(5,R=!1)},4e3))}async function S(k){const E=t.indexOf(k.target.value).toString(),T=await fetch("/api/updatePreference",{method:"PATCH",body:JSON.stringify({language:E})});console.log(await T.json()),T.ok&&(Qe(Me,r.language=E,r),l(6,le=!0),setTimeout(()=>{l(6,le=!1)},4e3))}async function A(){const k=await fetch("/api/updatePreference",{method:"PATCH",body:JSON.stringify({newPassword:u,newPasswordRepeat:y,currentPassword:q})});k.ok&&(console.log(await k.json()),l(2,q=""),l(0,u=""),l(1,y=""),l(4,L=!0),setTimeout(()=>{l(4,L=!1)},4e3))}const fe=k=>se(k),de=k=>S(k);function j(){q=this.value,l(2,q)}function B(){u=this.value,l(0,u)}function pe(){y=this.value,l(1,y)}return o.$$.update=()=>{o.$$.dirty&3&&u&&y&&u.length>0&&y.length>0&&(u===y?l(3,Y=!0):l(3,Y=!1))},[u,y,q,Y,L,R,le,r,c,t,se,S,A,fe,de,j,B,pe]}class Ct extends ft{constructor(e){super(),dt(this,e,_t,pt,it,{})}}export{Ct as component};
