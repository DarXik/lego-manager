import { c as create_ssr_component, a as subscribe, b as add_attribute, d as each, e as escape } from "../../../../chunks/ssr.js";
import "../../../../chunks/client.js";
import { a as userInfo } from "../../../../chunks/store.js";
const css = {
  code: ".one-cell.svelte-j8c4ly{display:flex;flex-direction:column;gap:0.5rem;--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity))\n}.set-added.svelte-j8c4ly{cursor:default;--tw-border-opacity:1;border-color:rgb(34 197 94 / var(--tw-border-opacity));background-color:transparent;--tw-text-opacity:1;color:rgb(34 197 94 / var(--tw-text-opacity))\n}.set-added.svelte-j8c4ly:disabled{opacity:0.8\n}.setChosen.svelte-j8c4ly{border-color:rgb(212 212 216 / 0.7);background-color:rgb(212 212 216 / 0.4);--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))\n}",
  map: '{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { enhance } from \\"$app/forms\\";\\nimport { onMount } from \\"svelte\\";\\nimport { navbarHeight, userInfo } from \\"$lib/store\\";\\nimport { fade } from \\"svelte/transition\\";\\nexport let form;\\nexport let data;\\nlet name = \\"\\";\\nlet setNumber = \\"\\";\\nlet yearReleased;\\nlet isBought = false;\\nlet yearBought = \\"\\";\\nlet description = \\"\\";\\nlet price;\\nlet partsAmount = \\"\\";\\nlet imageThumbnail;\\nlet uploadedImage;\\nlet themeName = \\"\\";\\nlet isSearching = false;\\nlet searchQuery = \\"\\";\\nlet fetchedSets = [];\\nlet files;\\nfunction handleImageUpload(e) {\\n  const image = e.target?.files?.[0];\\n  if (!image)\\n    return;\\n  uploadedImage = URL.createObjectURL(image);\\n}\\n$: {\\n  if (form?.newSetAdded) {\\n    uploadedImage = \\"\\";\\n    setTimeout(() => {\\n      uploadedImage = \\"\\";\\n      imageThumbnail = \\"\\";\\n      window.location.reload();\\n    }, 3e3);\\n    imageThumbnail = \\"\\";\\n    searchQuery = \\"\\";\\n    isSearching = false;\\n    files = null;\\n  }\\n  if (form?.setsFound) {\\n    fetchedSets = form?.setsFound;\\n  }\\n  isBought = yearBought.length > 0;\\n}\\nfunction quickSetAdd(set) {\\n  name = set.name;\\n  setNumber = set.setNumber;\\n  yearReleased = set.yearReleased;\\n  partsAmount = set.numParts;\\n  themeName = set.themeName;\\n}\\nlet currencies = [\\"czk.svg\\", \\"euro.svg\\", \\"usd.svg\\", \\"gbp.svg\\"];\\nlet currentItems = 8;\\nlet priceFocused = false;\\n<\/script>\\r\\n\\r\\n<section in:fade={{ delay: 50, duration: 300 }}>\\r\\n    <div class=\\"border-b-3 border-zinc-600\\">\\r\\n        <h1 class=\\"font-bold text-3xl md:text-4xl lg:text-5xl p-6\\">\\r\\n            Add new set\\r\\n        </h1>\\r\\n    </div>\\r\\n    <div class=\\"border-b-3 border-zinc-600 border-r-3 p-6 lg:mr-32\\">\\r\\n        <p class=\\"text-zinc-100 transition-all text-2xl\\">\\r\\n            Find yours in our database:\\r\\n        </p>\\r\\n        <form\\r\\n            class=\\"\\"\\r\\n            method=\\"POST\\"\\r\\n            action=\\"?/searchLegoSet\\"\\r\\n            on:focusin={() => (isSearching = true)}\\r\\n            on:focusout={() => (isSearching = false)}\\r\\n            use:enhance\\r\\n        >\\r\\n            <div class=\\"relative flex w-full mt-4 \\">\\r\\n                <div\\r\\n                    class=\\"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none\\"\\r\\n                >\\r\\n                    <svg\\r\\n                        class=\\"w-4 h-4 text-gray-500 dark:text-gray-400\\"\\r\\n                        aria-hidden=\\"true\\"\\r\\n                        xmlns=\\"http://www.w3.org/2000/svg\\"\\r\\n                        fill=\\"none\\"\\r\\n                        viewBox=\\"0 0 20 20\\"\\r\\n                    >\\r\\n                        <path\\r\\n                            stroke=\\"currentColor\\"\\r\\n                            stroke-linecap=\\"round\\"\\r\\n                            stroke-linejoin=\\"round\\"\\r\\n                            stroke-width=\\"2\\"\\r\\n                            d=\\"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z\\"\\r\\n                        />\\r\\n                    </svg>\\r\\n                </div>\\r\\n                <input\\r\\n                    type=\\"text\\"\\r\\n                    name=\\"searchQuery\\"\\r\\n                    id=\\"searchQuery\\"\\r\\n                    bind:value={searchQuery}\\r\\n                    class=\\"my-input block w-full ps-10 p-3\\"\\r\\n                    placeholder=\\"Atreides Royal...\\"\\r\\n                    required\\r\\n                    autocomplete=\\"off\\"\\r\\n                />\\r\\n                <!-- rounded-s-lg -->\\r\\n                <!-- rounded-e-lg -->\\r\\n                <!-- není disabled po search setů, zůstane modré ač input je prázdný -->\\r\\n                <button\\r\\n                    type=\\"submit\\"\\r\\n                    disabled={searchQuery.length == 0}\\r\\n                    class=\\"px-6 max-md:hidden md:px-12 text-base uppercase hover:bg-purple-800/50 border-2 active:scale-90 border-zinc-400 disabled:border-gray-600 disabled:cursor-default disabled:opacity-75 disabled:bg-gray-600 disabled:hover:bg-gray-600 disabled:active:bg-gray-600 disabled:text-gray-300 select-none transition-all\\"\\r\\n                >\\r\\n                    <span class=\\"relative z-10\\">Search</span>\\r\\n                </button>\\r\\n            </div>\\r\\n            <button\\r\\n                    type=\\"submit\\"\\r\\n                    disabled={searchQuery.length == 0}\\r\\n                    class=\\"px-6 py-2 mt-4 text-base uppercase hover:bg-purple-800/50 border-2 active:scale-90 border-zinc-400 disabled:border-gray-600 disabled:cursor-default disabled:opacity-75 disabled:bg-gray-600 disabled:hover:bg-gray-600 disabled:active:bg-gray-600 disabled:text-gray-300 select-none transition-all\\"\\r\\n                >\\r\\n                    <span class=\\"relative z-10\\">Search</span>\\r\\n                </button>\\r\\n        </form>\\r\\n        <div class=\\"mt-4\\">\\r\\n            {#if form?.setsFound && fetchedSets.length > 0}\\r\\n                <p class=\\"mb-2\\">Click to quickly add:</p>\\r\\n                <div class=\\"flex flex-wrap gap-3\\">\\r\\n                    {#each fetchedSets.slice(0, currentItems) as set}\\r\\n                        <button\\r\\n                            type=\\"button\\"\\r\\n                            transition:fade={{ duration: 200 }}\\r\\n                            on:click={() => quickSetAdd(set)}\\r\\n                            class=\\"w-fit border-2 transition-all border-zinc-300 hover:border-zinc-300 hover:bg-zinc-300/90 hover:text-black focus:bg-zinc-300/90 focus:text-black active:border-zinc-400 active:bg-zinc-300/90 select-none group\\"\\r\\n                            class:setChosen={set.setNumber == setNumber &&\\r\\n                                set.themeName == themeName}\\r\\n                            ><div class=\\"px-4 py-2\\">\\r\\n                                <p>{set.name}</p>\\r\\n                                <p class=\\"text-xs\\">\\r\\n                                    {set.addedBy ? \\"by user\\" : \\"\\"}\\r\\n                                </p>\\r\\n                            </div>\\r\\n                        </button>\\r\\n                    {/each}\\r\\n                </div>\\r\\n                {#if currentItems < fetchedSets.length}\\r\\n                    <div class=\\"w-full flex justify-center mt-8\\">\\r\\n                        <button\\r\\n                            on:click={() => (currentItems = currentItems + 5)}\\r\\n                            id=\\"loadmore\\"\\r\\n                            type=\\"button\\"\\r\\n                            class=\\"border-2 border-green-600 text-green-600 hover:text-zinc-100 hover:bg-green-800 hover:border-green-800 active:scale-90 transition-all px-4 py-2\\"\\r\\n                        >\\r\\n                            Show more\\r\\n                        </button>\\r\\n                    </div>\\r\\n                {/if}\\r\\n            {:else if form?.setsFailed}\\r\\n                <p class=\\"border-2 border-red-600 w-fit text-red-600 px-4 py-2\\">\\r\\n                    {form?.setsFailed}\\r\\n                </p>\\r\\n            {/if}\\r\\n        </div>\\r\\n    </div>\\r\\n    <form\\r\\n        method=\\"POST\\"\\r\\n        action=\\"?/addSet\\"\\r\\n        enctype=\\"multipart/form-data\\"\\r\\n        use:enhance\\r\\n        class:opacity-50={isSearching}\\r\\n        class=\\"lg:grid lg:grid-cols-3 lg:grid-rows-auto flex flex-col border-r-3 gap-3 border-gray-600 p-6 lg:mr-32 border-b-3 mb-12\\"\\r\\n    >\\r\\n        <div class=\\"one-cell row-start-1 col-start-1 col-end-1\\">\\r\\n            <input\\r\\n                type=\\"text\\"\\r\\n                name=\\"name\\"\\r\\n                id=\\"name\\"\\r\\n                bind:value={name}\\r\\n                autocomplete=\\"off\\"\\r\\n                maxlength=\\"100\\"\\r\\n                class=\\"my-input peer\\"\\r\\n                placeholder=\\"Atreides Royal...\\"\\r\\n                required\\r\\n            />\\r\\n            <label\\r\\n                class=\\"peer-focus:text-white -order-last transition-all duration-200\\"\\r\\n                for=\\"name\\"\\r\\n                >Name <span class=\\"text-red-600\\">*</span>\\r\\n            </label>\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-1 col-start-2 col-end-2\\">\\r\\n            <input\\r\\n                type=\\"text\\"\\r\\n                name=\\"setNumber\\"\\r\\n                id=\\"setNumber\\"\\r\\n                bind:value={setNumber}\\r\\n                required\\r\\n                autocomplete=\\"off\\"\\r\\n                maxlength=\\"30\\"\\r\\n                class=\\"my-input peer\\"\\r\\n                placeholder=\\"10327\\"\\r\\n            />\\r\\n            <label\\r\\n                for=\\"setNumber\\"\\r\\n                class=\\"peer-focus:text-white -order-last transition-all duration-200\\"\\r\\n                >Set number <span class=\\"text-sm\\">(custom/official)</span>\\r\\n                <span class=\\"text-red-600\\">*</span></label\\r\\n            >\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-1 col-start-3 col-end-3\\">\\r\\n            <input\\r\\n                type=\\"text\\"\\r\\n                name=\\"partsAmount\\"\\r\\n                id=\\"partsAmount\\"\\r\\n                bind:value={partsAmount}\\r\\n                required\\r\\n                autocomplete=\\"off\\"\\r\\n                maxlength=\\"30\\"\\r\\n                class=\\"my-input peer\\"\\r\\n                placeholder=\\"1369\\"\\r\\n            />\\r\\n            <label\\r\\n                for=\\"partsAmount\\"\\r\\n                class=\\"peer-focus:text-white -order-last transition-all duration-200\\"\\r\\n                >Number of bricks <span class=\\"text-red-600\\">*</span></label\\r\\n            >\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-2 row-end-2 col-start-3 col-end-3\\">\\r\\n            <input\\r\\n                type=\\"text\\"\\r\\n                name=\\"themeName\\"\\r\\n                id=\\"themeName\\"\\r\\n                bind:value={themeName}\\r\\n                autocomplete=\\"off\\"\\r\\n                maxlength=\\"30\\"\\r\\n                class=\\"my-input peer\\"\\r\\n                placeholder=\\"Icons\\"\\r\\n                required\\r\\n            />\\r\\n            <label\\r\\n                for=\\"themeName\\"\\r\\n                class=\\"peer-focus:text-white -order-last transition-all duration-200\\"\\r\\n                >Theme/Collection <span class=\\"text-sm\\"\\r\\n                    >(custom/official) <span class=\\"text-red-600\\">*</span></span\\r\\n                >\\r\\n            </label>\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-2 row-end-4 col-start-1 col-end-3\\">\\r\\n            <textarea\\r\\n                name=\\"description\\"\\r\\n                id=\\"description\\"\\r\\n                bind:value={description}\\r\\n                autocomplete=\\"off\\"\\r\\n                rows=\\"4\\"\\r\\n                class=\\"my-input resize-none peer\\"\\r\\n                maxlength=\\"256\\"\\r\\n                placeholder=\\"Authentic replica of the Atreides Royal Ornithopter from Dune...\\"\\r\\n            ></textarea>\\r\\n            <label\\r\\n                for=\\"description\\"\\r\\n                class=\\"peer-focus:text-white -order-last transition-all duration-200\\"\\r\\n                >Description <span class=\\"text-sm\\"\\r\\n                    >(max {256 - description.length})</span\\r\\n                ></label\\r\\n            >\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-4 row-end-4 col-start-1 col-end-1\\">\\r\\n            <input\\r\\n                type=\\"text\\"\\r\\n                name=\\"yearReleased\\"\\r\\n                id=\\"yearReleased\\"\\r\\n                bind:value={yearReleased}\\r\\n                autocomplete=\\"off\\"\\r\\n                maxlength=\\"4\\"\\r\\n                class=\\"my-input peer\\"\\r\\n                placeholder=\\"2024\\"\\r\\n            />\\r\\n            <label\\r\\n                for=\\"yearReleased\\"\\r\\n                class=\\"peer-focus:text-white -order-last transition-all duration-200\\"\\r\\n                >Year of release</label\\r\\n            >\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-4 row-end-4 col-start-2 col-end-2\\">\\r\\n            <input\\r\\n                bind:value={yearBought}\\r\\n                type=\\"text\\"\\r\\n                name=\\"yearBought\\"\\r\\n                id=\\"yearBought\\"\\r\\n                autocomplete=\\"off\\"\\r\\n                maxlength=\\"4\\"\\r\\n                class=\\"my-input peer\\"\\r\\n                placeholder=\\"2024\\"\\r\\n                required={isBought}\\r\\n            />\\r\\n            <label\\r\\n                for=\\"yearBought\\"\\r\\n                class=\\"peer-focus:text-white -order-last transition-all duration-200\\"\\r\\n                >Year of purchase {@html isBought\\r\\n                    ? `<span class=\\"text-red-600\\">*</span>`\\r\\n                    : \\"\\"}</label\\r\\n            >\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-4 row-end-4 col-start-3 col-end-3\\">\\r\\n            <div class=\\"relative w-full flex\\">\\r\\n                <input\\r\\n                    type=\\"text\\"\\r\\n                    name=\\"price\\"\\r\\n                    id=\\"price\\"\\r\\n                    bind:value={price}\\r\\n                    autocomplete=\\"off\\"\\r\\n                    maxlength=\\"30\\"\\r\\n                    class=\\"my-input\\"\\r\\n                    placeholder=\\"149.99\\"\\r\\n                    on:focusin={() => (priceFocused = true)}\\r\\n                    on:focusout={() => (priceFocused = false)}\\r\\n                />\\r\\n                <div\\r\\n                    class=\\"absolute flex flex-col justify-center right-0 bottom-0 h-full pointer-events-none bg-zinc-500 opacity-70\\"\\r\\n                >\\r\\n                    <img\\r\\n                        src=\\"../../../../currencies/{currencies[\\r\\n                            $userInfo.currency\\r\\n                        ]}\\"\\r\\n                        alt=\\"currency\\"\\r\\n                        class=\\"w-8 h-fit p-1.5\\"\\r\\n                    />\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <label\\r\\n                class:text-white={priceFocused}\\r\\n                for=\\"price\\"\\r\\n                class=\\" -order-last transition-all duration-200\\">Price</label\\r\\n            >\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-5 row-end-5 col-start-1 col-end-2\\">\\r\\n            <label for=\\"imageThumbnail\\"\\r\\n                >Set image <span class=\\"text-sm\\">*portrait preferred</span\\r\\n                ></label\\r\\n            >\\r\\n            <div class=\\"my-input\\">\\r\\n                <input\\r\\n                    type=\\"file\\"\\r\\n                    id=\\"imageThumbnail\\"\\r\\n                    name=\\"imageThumbnail\\"\\r\\n                    accept=\\"image/*\\"\\r\\n                    disabled={isSearching}\\r\\n                    on:change={handleImageUpload}\\r\\n                    bind:value={imageThumbnail}\\r\\n                />\\r\\n                {#if uploadedImage}\\r\\n                    <img\\r\\n                        src={uploadedImage}\\r\\n                        class=\\"w-32 m-4\\"\\r\\n                        alt=\\"uploaded image\\"\\r\\n                    />\\r\\n                {/if}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"one-cell row-start-5 row-end-5 col-start-2 col-end-3\\">\\r\\n            <label for=\\"instructions\\">Instructions PDF</label>\\r\\n            <div class=\\"my-input\\">\\r\\n                <input\\r\\n                    type=\\"file\\"\\r\\n                    id=\\"instructions\\"\\r\\n                    name=\\"instructions\\"\\r\\n                    accept=\\"application/pdf\\"\\r\\n                    multiple\\r\\n                    disabled={isSearching}\\r\\n                    bind:files\\r\\n                />\\r\\n                {#if files}\\r\\n                    {#each Array.from(files) as file}\\r\\n                        <p class=\\"text-sm pt-2\\">\\r\\n                            {file.name} ({file.size} bytes)\\r\\n                        </p>\\r\\n                    {/each}\\r\\n                {/if}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div\\r\\n            class=\\"one-cell row-start-7 row-end-7 col-start-1 col-end-1 flex flex-row gap-8 mt-8 pb-4\\"\\r\\n        >\\r\\n            <button\\r\\n                class:set-added={form?.newSetAdded}\\r\\n                type=\\"submit\\"\\r\\n                class=\\"my-button-2 w-fit uppercase px-12\\"\\r\\n                class:!cursor-default={isSearching}\\r\\n                disabled={(form?.newSetAdded &&\\r\\n                    !(\\r\\n                        name.length === 0 ||\\r\\n                        setNumber.length === 0 ||\\r\\n                        partsAmount.length === 0 ||\\r\\n                        themeName.length === 0\\r\\n                    )) ||\\r\\n                    isSearching}\\r\\n            >\\r\\n                <span class=\\"relative z-10\\"\\r\\n                    >{form?.newSetAdded\\r\\n                        ? form?.newSetAdded.message\\r\\n                        : \\"Add set\\"}</span\\r\\n                >\\r\\n            </button>\\r\\n            {#if form?.newSetFailed}\\r\\n                <p class=\\"text-red-500 font-bold uppercase\\">\\r\\n                    {form?.newSetFailed.message}\\r\\n                </p>\\r\\n            {/if}\\r\\n            {#if form?.problem}\\r\\n                <p class=\\"text-red-500 font-bold uppercase\\">\\r\\n                    {form?.problem}\\r\\n                </p>\\r\\n            {/if}\\r\\n        </div>\\r\\n    </form>\\r\\n</section>\\r\\n\\r\\n<style lang=\\"postcss\\">\\r\\n    .one-cell {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 0.5rem;\\r\\n    --tw-text-opacity: 1;\\r\\n    color: rgb(107 114 128 / var(--tw-text-opacity))\\n}\\r\\n    .set-added {\\r\\n    cursor: default;\\r\\n    --tw-border-opacity: 1;\\r\\n    border-color: rgb(34 197 94 / var(--tw-border-opacity));\\r\\n    background-color: transparent;\\r\\n    --tw-text-opacity: 1;\\r\\n    color: rgb(34 197 94 / var(--tw-text-opacity))\\n}\\r\\n    .set-added:disabled {\\r\\n    opacity: 0.8\\n}\\r\\n    .setChosen {\\r\\n    border-color: rgb(212 212 216 / 0.7);\\r\\n    background-color: rgb(212 212 216 / 0.4);\\r\\n    --tw-text-opacity: 1;\\r\\n    color: rgb(255 255 255 / var(--tw-text-opacity))\\n}\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAmaI,uBAAU,CACV,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,MAAM,CACX,iBAAiB,CAAE,CAAC,CACpB,KAAK,CAAE,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,iBAAiB,CAAC,CAAC;AACpD,CACI,wBAAW,CACX,MAAM,CAAE,OAAO,CACf,mBAAmB,CAAE,CAAC,CACtB,YAAY,CAAE,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,mBAAmB,CAAC,CAAC,CACvD,gBAAgB,CAAE,WAAW,CAC7B,iBAAiB,CAAE,CAAC,CACpB,KAAK,CAAE,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,iBAAiB,CAAC,CAAC;AAClD,CACI,wBAAU,SAAU,CACpB,OAAO,CAAE,GAAG;AAChB,CACI,wBAAW,CACX,YAAY,CAAE,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CACpC,gBAAgB,CAAE,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CACxC,iBAAiB,CAAE,CAAC,CACpB,KAAK,CAAE,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,iBAAiB,CAAC,CAAC;AACpD"}'
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $userInfo, $$unsubscribe_userInfo;
  $$unsubscribe_userInfo = subscribe(userInfo, (value) => $userInfo = value);
  let { form } = $$props;
  let { data } = $$props;
  let name = "";
  let setNumber = "";
  let yearReleased;
  let isBought = false;
  let yearBought = "";
  let description = "";
  let price;
  let partsAmount = "";
  let uploadedImage;
  let themeName = "";
  let isSearching = false;
  let searchQuery = "";
  let fetchedSets = [];
  let files;
  let currencies = ["czk.svg", "euro.svg", "usd.svg", "gbp.svg"];
  let currentItems = 8;
  if ($$props.form === void 0 && $$bindings.form && form !== void 0)
    $$bindings.form(form);
  if ($$props.data === void 0 && $$bindings.data && data !== void 0)
    $$bindings.data(data);
  $$result.css.add(css);
  {
    {
      if (form?.newSetAdded) {
        uploadedImage = "";
        setTimeout(
          () => {
            uploadedImage = "";
            window.location.reload();
          },
          3e3
        );
        searchQuery = "";
        isSearching = false;
        files = null;
      }
      if (form?.setsFound) {
        fetchedSets = form?.setsFound;
      }
      isBought = yearBought.length > 0;
    }
  }
  $$unsubscribe_userInfo();
  return `<section><div class="border-b-3 border-zinc-600" data-svelte-h="svelte-p5svwf"><h1 class="font-bold text-3xl md:text-4xl lg:text-5xl p-6">Add new set</h1></div> <div class="border-b-3 border-zinc-600 border-r-3 p-6 lg:mr-32"><p class="text-zinc-100 transition-all text-2xl" data-svelte-h="svelte-1mqtnbd">Find yours in our database:</p> <form class="" method="POST" action="?/searchLegoSet"><div class="relative flex w-full mt-4 "><div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none" data-svelte-h="svelte-7f8yy0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"></path></svg></div> <input type="text" name="searchQuery" id="searchQuery" class="my-input block w-full ps-10 p-3" placeholder="Atreides Royal..." required autocomplete="off"${add_attribute("value", searchQuery, 0)}>    <button type="submit" ${searchQuery.length == 0 ? "disabled" : ""} class="px-6 max-md:hidden md:px-12 text-base uppercase hover:bg-purple-800/50 border-2 active:scale-90 border-zinc-400 disabled:border-gray-600 disabled:cursor-default disabled:opacity-75 disabled:bg-gray-600 disabled:hover:bg-gray-600 disabled:active:bg-gray-600 disabled:text-gray-300 select-none transition-all"><span class="relative z-10" data-svelte-h="svelte-jf7zl5">Search</span></button></div> <button type="submit" ${searchQuery.length == 0 ? "disabled" : ""} class="px-6 py-2 mt-4 text-base uppercase hover:bg-purple-800/50 border-2 active:scale-90 border-zinc-400 disabled:border-gray-600 disabled:cursor-default disabled:opacity-75 disabled:bg-gray-600 disabled:hover:bg-gray-600 disabled:active:bg-gray-600 disabled:text-gray-300 select-none transition-all"><span class="relative z-10" data-svelte-h="svelte-jf7zl5">Search</span></button></form> <div class="mt-4">${form?.setsFound && fetchedSets.length > 0 ? `<p class="mb-2" data-svelte-h="svelte-1c69c19">Click to quickly add:</p> <div class="flex flex-wrap gap-3">${each(fetchedSets.slice(0, currentItems), (set) => {
    return `<button type="button" class="${[
      "w-fit border-2 transition-all border-zinc-300 hover:border-zinc-300 hover:bg-zinc-300/90 hover:text-black focus:bg-zinc-300/90 focus:text-black active:border-zinc-400 active:bg-zinc-300/90 select-none group svelte-j8c4ly",
      set.setNumber == setNumber && set.themeName == themeName ? "setChosen" : ""
    ].join(" ").trim()}"><div class="px-4 py-2"><p>${escape(set.name)}</p> <p class="text-xs">${escape(set.addedBy ? "by user" : "")} </p></div> </button>`;
  })}</div> ${currentItems < fetchedSets.length ? `<div class="w-full flex justify-center mt-8"><button id="loadmore" type="button" class="border-2 border-green-600 text-green-600 hover:text-zinc-100 hover:bg-green-800 hover:border-green-800 active:scale-90 transition-all px-4 py-2" data-svelte-h="svelte-j4gz9m">Show more</button></div>` : ``}` : `${form?.setsFailed ? `<p class="border-2 border-red-600 w-fit text-red-600 px-4 py-2">${escape(form?.setsFailed)}</p>` : ``}`}</div></div> <form method="POST" action="?/addSet" enctype="multipart/form-data" class="${[
    "lg:grid lg:grid-cols-3 lg:grid-rows-auto flex flex-col border-r-3 gap-3 border-gray-600 p-6 lg:mr-32 border-b-3 mb-12",
    isSearching ? "opacity-50" : ""
  ].join(" ").trim()}"><div class="one-cell row-start-1 col-start-1 col-end-1 svelte-j8c4ly"><input type="text" name="name" id="name" autocomplete="off" maxlength="100" class="my-input peer" placeholder="Atreides Royal..." required${add_attribute("value", name, 0)}> <label class="peer-focus:text-white -order-last transition-all duration-200" for="name" data-svelte-h="svelte-1uhjfx">Name <span class="text-red-600">*</span></label></div> <div class="one-cell row-start-1 col-start-2 col-end-2 svelte-j8c4ly"><input type="text" name="setNumber" id="setNumber" required autocomplete="off" maxlength="30" class="my-input peer" placeholder="10327"${add_attribute("value", setNumber, 0)}> <label for="setNumber" class="peer-focus:text-white -order-last transition-all duration-200" data-svelte-h="svelte-1up80lf">Set number <span class="text-sm">(custom/official)</span> <span class="text-red-600">*</span></label></div> <div class="one-cell row-start-1 col-start-3 col-end-3 svelte-j8c4ly"><input type="text" name="partsAmount" id="partsAmount" required autocomplete="off" maxlength="30" class="my-input peer" placeholder="1369"${add_attribute("value", partsAmount, 0)}> <label for="partsAmount" class="peer-focus:text-white -order-last transition-all duration-200" data-svelte-h="svelte-q2xhyr">Number of bricks <span class="text-red-600">*</span></label></div> <div class="one-cell row-start-2 row-end-2 col-start-3 col-end-3 svelte-j8c4ly"><input type="text" name="themeName" id="themeName" autocomplete="off" maxlength="30" class="my-input peer" placeholder="Icons" required${add_attribute("value", themeName, 0)}> <label for="themeName" class="peer-focus:text-white -order-last transition-all duration-200" data-svelte-h="svelte-1shh3on">Theme/Collection <span class="text-sm">(custom/official) <span class="text-red-600">*</span></span></label></div> <div class="one-cell row-start-2 row-end-4 col-start-1 col-end-3 svelte-j8c4ly"><textarea name="description" id="description" autocomplete="off" rows="4" class="my-input resize-none peer" maxlength="256" placeholder="Authentic replica of the Atreides Royal Ornithopter from Dune...">${escape("")}</textarea> <label for="description" class="peer-focus:text-white -order-last transition-all duration-200">Description <span class="text-sm">(max ${escape(256 - description.length)})</span></label></div> <div class="one-cell row-start-4 row-end-4 col-start-1 col-end-1 svelte-j8c4ly"><input type="text" name="yearReleased" id="yearReleased" autocomplete="off" maxlength="4" class="my-input peer" placeholder="2024"${add_attribute("value", yearReleased, 0)}> <label for="yearReleased" class="peer-focus:text-white -order-last transition-all duration-200" data-svelte-h="svelte-r0heug">Year of release</label></div> <div class="one-cell row-start-4 row-end-4 col-start-2 col-end-2 svelte-j8c4ly"><input type="text" name="yearBought" id="yearBought" autocomplete="off" maxlength="4" class="my-input peer" placeholder="2024" ${isBought ? "required" : ""}${add_attribute("value", yearBought, 0)}> <label for="yearBought" class="peer-focus:text-white -order-last transition-all duration-200">Year of purchase <!-- HTML_TAG_START -->${isBought ? `<span class="text-red-600">*</span>` : ""}<!-- HTML_TAG_END --></label></div> <div class="one-cell row-start-4 row-end-4 col-start-3 col-end-3 svelte-j8c4ly"><div class="relative w-full flex"><input type="text" name="price" id="price" autocomplete="off" maxlength="30" class="my-input" placeholder="149.99"${add_attribute("value", price, 0)}> <div class="absolute flex flex-col justify-center right-0 bottom-0 h-full pointer-events-none bg-zinc-500 opacity-70"><img src="${"../../../../currencies/" + escape(currencies[$userInfo.currency], true)}" alt="currency" class="w-8 h-fit p-1.5"></div></div> <label for="price" class="${["-order-last transition-all duration-200", ""].join(" ").trim()}" data-svelte-h="svelte-qp9gfb">Price</label></div> <div class="one-cell row-start-5 row-end-5 col-start-1 col-end-2 svelte-j8c4ly"><label for="imageThumbnail" data-svelte-h="svelte-q1p3gm">Set image <span class="text-sm">*portrait preferred</span></label> <div class="my-input"><input type="file" id="imageThumbnail" name="imageThumbnail" accept="image/*" ${isSearching ? "disabled" : ""}> ${uploadedImage ? `<img${add_attribute("src", uploadedImage, 0)} class="w-32 m-4" alt="uploaded image">` : ``}</div></div> <div class="one-cell row-start-5 row-end-5 col-start-2 col-end-3 svelte-j8c4ly"><label for="instructions" data-svelte-h="svelte-edgvs0">Instructions PDF</label> <div class="my-input"><input type="file" id="instructions" name="instructions" accept="application/pdf" multiple ${isSearching ? "disabled" : ""}> ${files ? `${each(Array.from(files), (file) => {
    return `<p class="text-sm pt-2">${escape(file.name)} (${escape(file.size)} bytes)
                        </p>`;
  })}` : ``}</div></div> <div class="one-cell row-start-7 row-end-7 col-start-1 col-end-1 flex flex-row gap-8 mt-8 pb-4 svelte-j8c4ly"><button type="submit" class="${[
    "my-button-2 w-fit uppercase px-12 svelte-j8c4ly",
    (form?.newSetAdded ? "set-added" : "") + " " + (isSearching ? "!cursor-default" : "")
  ].join(" ").trim()}" ${form?.newSetAdded && !(name.length === 0 || setNumber.length === 0 || partsAmount.length === 0 || themeName.length === 0) || isSearching ? "disabled" : ""}><span class="relative z-10">${escape(form?.newSetAdded ? form?.newSetAdded.message : "Add set")}</span></button> ${form?.newSetFailed ? `<p class="text-red-500 font-bold uppercase">${escape(form?.newSetFailed.message)}</p>` : ``} ${form?.problem ? `<p class="text-red-500 font-bold uppercase">${escape(form?.problem)}</p>` : ``}</div></form> </section>`;
});
export {
  Page as default
};
